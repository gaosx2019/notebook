"use strict";(self.webpackChunknotebook=self.webpackChunknotebook||[]).push([[8145],{3905:(e,n,t)=>{t.d(n,{Zo:()=>s,kt:()=>k});var a=t(7294);function i(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function p(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function r(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?p(Object(t),!0).forEach((function(n){i(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):p(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function o(e,n){if(null==e)return{};var t,a,i=function(e,n){if(null==e)return{};var t,a,i={},p=Object.keys(e);for(a=0;a<p.length;a++)t=p[a],n.indexOf(t)>=0||(i[t]=e[t]);return i}(e,n);if(Object.getOwnPropertySymbols){var p=Object.getOwnPropertySymbols(e);for(a=0;a<p.length;a++)t=p[a],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(i[t]=e[t])}return i}var l=a.createContext({}),m=function(e){var n=a.useContext(l),t=n;return e&&(t="function"==typeof e?e(n):r(r({},n),e)),t},s=function(e){var n=m(e.components);return a.createElement(l.Provider,{value:n},e.children)},c={inlineCode:"code",wrapper:function(e){var n=e.children;return a.createElement(a.Fragment,{},n)}},u=a.forwardRef((function(e,n){var t=e.components,i=e.mdxType,p=e.originalType,l=e.parentName,s=o(e,["components","mdxType","originalType","parentName"]),u=m(t),k=i,d=u["".concat(l,".").concat(k)]||u[k]||c[k]||p;return t?a.createElement(d,r(r({ref:n},s),{},{components:t})):a.createElement(d,r({ref:n},s))}));function k(e,n){var t=arguments,i=n&&n.mdxType;if("string"==typeof e||i){var p=t.length,r=new Array(p);r[0]=u;var o={};for(var l in n)hasOwnProperty.call(n,l)&&(o[l]=n[l]);o.originalType=e,o.mdxType="string"==typeof e?e:i,r[1]=o;for(var m=2;m<p;m++)r[m]=t[m];return a.createElement.apply(null,r)}return a.createElement.apply(null,t)}u.displayName="MDXCreateElement"},2538:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>l,contentTitle:()=>r,default:()=>c,frontMatter:()=>p,metadata:()=>o,toc:()=>m});var a=t(7462),i=(t(7294),t(3905));const p={sidebar_position:3},r="sitemap\u914d\u7f6e",o={unversionedId:"mini-program-development/configuration/sitemap-config",id:"mini-program-development/configuration/sitemap-config",title:"sitemap\u914d\u7f6e",description:"\u5fae\u4fe1\u73b0\u5df2\u5f00\u653e\u5c0f\u7a0b\u5e8f\u5185\u641c\u7d22\uff0c\u5f00\u53d1\u8005\u53ef\u4ee5\u901a\u8fc7 sitemap.json \u914d\u7f6e\uff0c\u6216\u8005\u7ba1\u7406\u540e\u53f0\u9875\u9762\u6536\u5f55\u5f00\u5173\u6765\u914d\u7f6e\u5176\u5c0f\u7a0b\u5e8f\u9875\u9762\u662f\u5426\u5141\u8bb8\u5fae\u4fe1\u7d22\u5f15\u3002\u5f53\u5f00\u53d1\u8005\u5141\u8bb8\u5fae\u4fe1\u7d22\u5f15\u65f6\uff0c\u5fae\u4fe1\u4f1a\u901a\u8fc7\u722c\u866b\u7684\u5f62\u5f0f\uff0c\u4e3a\u5c0f\u7a0b\u5e8f\u7684\u9875\u9762\u5185\u5bb9\u5efa\u7acb\u7d22\u5f15\u3002\u5f53\u7528\u6237\u7684\u641c\u7d22\u8bcd\u6761\u89e6\u53d1\u8be5\u7d22\u5f15\u65f6\uff0c\u5c0f\u7a0b\u5e8f\u7684\u9875\u9762\u5c06\u53ef\u80fd\u5c55\u793a\u5728\u641c\u7d22\u7ed3\u679c\u4e2d\u3002\u722c\u866b\u8bbf\u95ee\u5c0f\u7a0b\u5e8f\u5185\u9875\u9762\u65f6\uff0c\u4f1a\u643a\u5e26\u7279\u5b9a\u7684 user-agent\uff1ampcrawler \u53ca\u573a\u666f\u503c\uff1a1129\u3002\u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c\u82e5\u5c0f\u7a0b\u5e8f\u722c\u866b\u53d1\u73b0\u7684\u9875\u9762\u6570\u636e\u548c\u771f\u5b9e\u7528\u6237\u7684\u5448\u73b0\u4e0d\u4e00\u81f4\uff0c\u90a3\u4e48\u8be5\u9875\u9762\u5c06\u4e0d\u4f1a\u8fdb\u5165\u7d22\u5f15\u4e2d\u3002",source:"@site/docs/mini-program-development/configuration/sitemap-config.md",sourceDirName:"mini-program-development/configuration",slug:"/mini-program-development/configuration/sitemap-config",permalink:"/notebook/docs/mini-program-development/configuration/sitemap-config",draft:!1,tags:[],version:"current",sidebarPosition:3,frontMatter:{sidebar_position:3},sidebar:"tutorialSidebar",previous:{title:"\u9875\u9762\u914d\u7f6e",permalink:"/notebook/docs/mini-program-development/configuration/page-config"},next:{title:"\u5c0f\u7a0b\u5e8f\u6846\u67b6",permalink:"/notebook/docs/category/\u5c0f\u7a0b\u5e8f\u6846\u67b6"}},l={},m=[{value:"sitemap \u914d\u7f6e",id:"sitemap-\u914d\u7f6e",level:2},{value:"\u5982\u4f55\u8c03\u8bd5",id:"\u5982\u4f55\u8c03\u8bd5",level:2}],s={toc:m};function c(e){let{components:n,...p}=e;return(0,i.kt)("wrapper",(0,a.Z)({},s,p,{components:n,mdxType:"MDXLayout"}),(0,i.kt)("h1",{id:"sitemap\u914d\u7f6e"},"sitemap\u914d\u7f6e"),(0,i.kt)("p",null,"\u5fae\u4fe1\u73b0\u5df2\u5f00\u653e\u5c0f\u7a0b\u5e8f\u5185\u641c\u7d22\uff0c\u5f00\u53d1\u8005\u53ef\u4ee5\u901a\u8fc7 ",(0,i.kt)("inlineCode",{parentName:"p"},"sitemap.json")," \u914d\u7f6e\uff0c\u6216\u8005\u7ba1\u7406\u540e\u53f0\u9875\u9762\u6536\u5f55\u5f00\u5173\u6765\u914d\u7f6e\u5176\u5c0f\u7a0b\u5e8f\u9875\u9762\u662f\u5426\u5141\u8bb8\u5fae\u4fe1\u7d22\u5f15\u3002\u5f53\u5f00\u53d1\u8005\u5141\u8bb8\u5fae\u4fe1\u7d22\u5f15\u65f6\uff0c\u5fae\u4fe1\u4f1a\u901a\u8fc7\u722c\u866b\u7684\u5f62\u5f0f\uff0c\u4e3a\u5c0f\u7a0b\u5e8f\u7684\u9875\u9762\u5185\u5bb9\u5efa\u7acb\u7d22\u5f15\u3002\u5f53\u7528\u6237\u7684\u641c\u7d22\u8bcd\u6761\u89e6\u53d1\u8be5\u7d22\u5f15\u65f6\uff0c\u5c0f\u7a0b\u5e8f\u7684\u9875\u9762\u5c06\u53ef\u80fd\u5c55\u793a\u5728\u641c\u7d22\u7ed3\u679c\u4e2d\u3002\u722c\u866b\u8bbf\u95ee\u5c0f\u7a0b\u5e8f\u5185\u9875\u9762\u65f6\uff0c\u4f1a\u643a\u5e26\u7279\u5b9a\u7684 ",(0,i.kt)("inlineCode",{parentName:"p"},"user-agent\uff1ampcrawler")," \u53ca",(0,i.kt)("a",{parentName:"p",href:"https://developers.weixin.qq.com/miniprogram/dev/reference/scene-list.html"},"\u573a\u666f\u503c"),"\uff1a",(0,i.kt)("inlineCode",{parentName:"p"},"1129"),"\u3002\u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c\u82e5\u5c0f\u7a0b\u5e8f\u722c\u866b\u53d1\u73b0\u7684\u9875\u9762\u6570\u636e\u548c\u771f\u5b9e\u7528\u6237\u7684\u5448\u73b0\u4e0d\u4e00\u81f4\uff0c\u90a3\u4e48\u8be5\u9875\u9762\u5c06\u4e0d\u4f1a\u8fdb\u5165\u7d22\u5f15\u4e2d\u3002"),(0,i.kt)("p",null,"\u5177\u4f53\u914d\u7f6e\u8bf4\u660e"),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},"\u9875\u9762\u6536\u5f55\u8bbe\u7f6e\uff1a\u53ef\u5bf9\u6574\u4e2a\u5c0f\u7a0b\u5e8f\u7684\u7d22\u5f15\u8fdb\u884c\u5173\u95ed\uff0c\u5c0f\u7a0b\u5e8f\u7ba1\u7406\u540e\u53f0 - \u529f\u80fd - \u9875\u9762\u5185\u5bb9\u63a5\u5165 - \u9875\u9762\u6536\u5f55\u5f00\u5173\uff1b"),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("inlineCode",{parentName:"li"},"sitemap")," \u914d\u7f6e\uff1a\u53ef\u5bf9\u7279\u5b9a\u9875\u9762\u7684\u7d22\u5f15\u8fdb\u884c\u5173\u95ed")),(0,i.kt)("h2",{id:"sitemap-\u914d\u7f6e"},"sitemap \u914d\u7f6e"),(0,i.kt)("p",null,"\u5c0f\u7a0b\u5e8f\u6839\u76ee\u5f55\u4e0b\u7684 ",(0,i.kt)("inlineCode",{parentName:"p"},"sitemap.json")," \u6587\u4ef6\u7528\u6765\u914d\u7f6e\u5c0f\u7a0b\u5e8f\u53ca\u5176\u9875\u9762\u662f\u5426\u5141\u8bb8\u88ab\u5fae\u4fe1\u7d22\u5f15\u3002"),(0,i.kt)("p",null,"\u5b8c\u6574\u914d\u7f6e\u9879\u8bf4\u660e\u8bf7\u53c2\u8003",(0,i.kt)("a",{parentName:"p",href:"https://developers.weixin.qq.com/miniprogram/dev/reference/configuration/sitemap.html"},"\u5c0f\u7a0b\u5e8f sitemap \u914d\u7f6e")),(0,i.kt)("p",null,"\u4f8b1\uff1a"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "rules":[{\n    "action": "allow",\n    "page": "*"\n  }]\n}\n')),(0,i.kt)("p",null,"\u6240\u6709\u9875\u9762\u90fd\u4f1a\u88ab\u5fae\u4fe1\u7d22\u5f15\uff08\u9ed8\u8ba4\u60c5\u51b5\uff09"),(0,i.kt)("p",null,"\u4f8b2\uff1a"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "rules":[{\n    "action": "disallow",\n    "page": "path/to/page"\n  }]\n}\n')),(0,i.kt)("p",null,"\u914d\u7f6e ",(0,i.kt)("inlineCode",{parentName:"p"},"path/to/page")," \u9875\u9762\u4e0d\u88ab\u7d22\u5f15\uff0c\u5176\u4f59\u9875\u9762\u5141\u8bb8\u88ab\u7d22\u5f15"),(0,i.kt)("p",null,"\u4f8b3\uff1a"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "rules":[{\n    "action": "allow",\n    "page": "path/to/page"\n  }, {\n    "action": "disallow",\n    "page": "*"\n  }]\n}\n')),(0,i.kt)("p",null,"\u914d\u7f6e ",(0,i.kt)("inlineCode",{parentName:"p"},"path/to/page")," \u9875\u9762\u88ab\u7d22\u5f15\uff0c\u5176\u4f59\u9875\u9762\u4e0d\u88ab\u7d22\u5f15"),(0,i.kt)("p",null,"\u4f8b4\uff1a"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "rules":[{\n    "action": "allow",\n    "page": "path/to/page",\n    "params": ["a", "b"],\n    "matching": "inclusive"\n  }, {\n    "action": "allow",\n    "page": "*"\n  }]\n}\n')),(0,i.kt)("p",null,"\u5305\u542b ",(0,i.kt)("inlineCode",{parentName:"p"},"a")," \u548c ",(0,i.kt)("inlineCode",{parentName:"p"},"b")," \u53c2\u6570\u7684 ",(0,i.kt)("inlineCode",{parentName:"p"},"path/to/page")," \u9875\u9762\u4f1a\u88ab\u5fae\u4fe1\u4f18\u5148\u7d22\u5f15\uff0c\u5176\u4ed6\u9875\u9762\u90fd\u4f1a\u88ab\u7d22\u5f15\uff0c\u4f8b\u5982\uff1a"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"path/to/page?a=1&b=2")," => \u4f18\u5148\u88ab\u7d22\u5f15"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"path/to/page?a=1&b=2&c=3")," => \u4f18\u5148\u88ab\u7d22\u5f15"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"path/to/page")," => \u88ab\u7d22\u5f15"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"path/to/page?a=1")," => \u88ab\u7d22\u5f15"),(0,i.kt)("li",{parentName:"ul"},"\u5176\u4ed6\u9875\u9762\u90fd\u4f1a\u88ab\u7d22\u5f15")),(0,i.kt)("p",null,"\u4f8b5\uff1a"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "rules":[{\n    "action": "allow",\n    "page": "path/to/page",\n    "params": ["a", "b"],\n    "matching": "inclusive"\n  }, {\n    "action": "disallow",\n    "page": "*"\n  }, {\n    "action": "allow",\n    "page": "*"\n  }]\n}\n')),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"path/to/page?a=1&b=2")," => \u4f18\u5148\u88ab\u7d22\u5f15"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"path/to/page?a=1&b=2&c=3")," => \u4f18\u5148\u88ab\u7d22\u5f15"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"path/to/page")," => \u4e0d\u88ab\u7d22\u5f15"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"path/to/page?a=1")," => \u4e0d\u88ab\u7d22\u5f15"),(0,i.kt)("li",{parentName:"ul"},"\u5176\u4ed6\u9875\u9762\u7531\u4e8e\u547d\u4e2d\u7b2c\u4e8c\u6761\u89c4\u5219\uff0c\u6240\u4ee5\u4e0d\u4f1a\u88ab\u7d22\u5f15"),(0,i.kt)("li",{parentName:"ul"},"\u7531\u4e8e\u4f18\u5148\u7ea7\u7684\u95ee\u9898\uff0c\u7b2c\u4e09\u6761\u89c4\u5219\u662f\u6ca1\u6709\u610f\u4e49\u7684")),(0,i.kt)("p",null,"\u6ce8\uff1a\u6ca1\u6709 ",(0,i.kt)("inlineCode",{parentName:"p"},"sitemap.json")," \u5219\u9ed8\u8ba4\u6240\u6709\u9875\u9762\u90fd\u80fd\u88ab\u7d22\u5f15"),(0,i.kt)("p",null,"\u6ce8\uff1a",(0,i.kt)("inlineCode",{parentName:"p"},'{"action": "allow", "page": "*"}')," \u662f\u4f18\u5148\u7ea7\u6700\u4f4e\u7684\u9ed8\u8ba4\u89c4\u5219\uff0c\u672a\u663e\u5f0f\u6307\u660e ",(0,i.kt)("inlineCode",{parentName:"p"},'"disallow"')," \u7684\u90fd\u9ed8\u8ba4\u88ab\u7d22\u5f15"),(0,i.kt)("h2",{id:"\u5982\u4f55\u8c03\u8bd5"},"\u5982\u4f55\u8c03\u8bd5"),(0,i.kt)("p",null,"\u5f53\u5728\u5c0f\u7a0b\u5e8f\u9879\u76ee\u4e2d\u8bbe\u7f6e\u4e86 ",(0,i.kt)("inlineCode",{parentName:"p"},"sitemap")," \u7684\u914d\u7f6e\u6587\u4ef6\uff08\u9ed8\u8ba4\u4e3a ",(0,i.kt)("inlineCode",{parentName:"p"},"sitemap.json"),"\uff09\u65f6,\u4fbf\u53ef\u5728\u5f00\u53d1\u8005\u5de5\u5177\u63a7\u5236\u53f0\u4e0a\u663e\u793a\u5f53\u524d\u9875\u9762\u662f\u5426\u88ab\u7d22\u5f15\u7684\u8c03\u8bd5\u4fe1\u606f\uff08 \u6700\u65b0\u7248\u672c\u7684\u5f00\u53d1\u8005\u5de5\u5177\u652f\u6301\u7d22\u5f15\u63d0\u793a\uff09"),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"sitemap.7929a470.png",src:t(8076).Z,width:"2874",height:"1776"})),(0,i.kt)("p",null,"\u6ce8\uff1a",(0,i.kt)("inlineCode",{parentName:"p"},"sitemap")," \u7684\u7d22\u5f15\u63d0\u793a\u662f\u9ed8\u8ba4\u5f00\u542f\u7684\uff0c\u5982\u9700\u8981\u5173\u95ed ",(0,i.kt)("inlineCode",{parentName:"p"},"sitemap")," \u7684\u7d22\u5f15\u63d0\u793a\uff0c\u53ef\u5728\u5c0f\u7a0b\u5e8f\u9879\u76ee\u914d\u7f6e\u6587\u4ef6 ",(0,i.kt)("inlineCode",{parentName:"p"},"project.config.json")," \u7684 ",(0,i.kt)("inlineCode",{parentName:"p"},"setting")," \u4e2d\u914d\u7f6e\u5b57\u6bb5 ",(0,i.kt)("inlineCode",{parentName:"p"},"checkSiteMap")," \u4e3a ",(0,i.kt)("inlineCode",{parentName:"p"},"false")),(0,i.kt)("p",null,"\u6ce8: ",(0,i.kt)("inlineCode",{parentName:"p"},"sitemap")," \u6587\u4ef6\u5185\u5bb9\u6700\u5927\u4e3a ",(0,i.kt)("inlineCode",{parentName:"p"},"5120")," \u4e2a ",(0,i.kt)("inlineCode",{parentName:"p"},"UTF8")," \u5b57\u7b26"))}c.isMDXComponent=!0},8076:(e,n,t)=>{t.d(n,{Z:()=>a});const a=t.p+"assets/images/sitemap.7929a470-c7b45f6e20c01d36f47fb8d6322f08d2.png"}}]);